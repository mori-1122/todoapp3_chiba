<h1>All Boards</h1>

<div class="boards-container">
  <% @boards.each do |board| %>
    <div class="board-card">
      <h3><%= board.title %></h3>

      <p><%= truncate(board.description, length: 50) %></p> <%# 50文字まで表示 %>

      <div class="board-footer">
        <div class="board-user">
          <%= image_tag "930f9e1e5c25e9e34066ff7fcd0e3f58.png", class: "board-user-icon" %>
          <span><% board.user.email %></span>
      </div>

      <% if board.user == current_user %> <%# 作成者のみ編集・削除ボタンを表示 %>
        <div class="boards_detail_actions">
        <div class="dropdown">
          <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <%= image_tag 'Combined Shape.png', class: "dropbtn" %>
          </button>
          <ul class="dropdown-menu">
            <li><%= link_to "編集する", edit_board_path(board), class: "dropdown-item" %></li>
            <li><%= link_to "削除する", board, method: :delete, data: { confirm: "本当に削除しますか？" }, class: "dropdown-item" %></li>
          </ul>
        </div>

        </div>
      <% end %>
      </div>
    </div>
  <% end %>
  <%= link_to "+ Add new board", new_board_path, class: "add-board" %>
</div>
